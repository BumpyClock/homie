pub mod agent;
mod auth;
mod authz;
mod config;
mod connection;
mod debug_bytes;
mod execpolicy;
pub mod jobs;
mod homie_config;
pub mod notifications;
mod outbound;
mod paths;
pub mod pairing;
pub mod presence;
pub mod router;
mod server;
pub mod storage;
pub mod terminal;

pub use agent::{AgentService, ChatService};
pub use auth::{AuthOutcome, LiveWhois, TailscaleIdentity, TailscaleWhois};
pub use authz::{context_for_outcome, scope_for_method, AuthContext, Role, Scope};
pub use config::ServerConfig;
pub use connection::Connection;
pub use execpolicy::ExecPolicy;
pub use homie_config::HomieConfig;
pub use jobs::JobsService;
pub use notifications::NotificationsService;
pub use outbound::OutboundMessage;
pub use pairing::PairingService;
pub use router::{MessageRouter, ServiceHandler, ServiceRegistry, SubscriptionManager};
pub use server::build_router;
pub use storage::{ChatRecord, SessionStatus, SqliteStore, Store, TerminalRecord};
pub use terminal::TerminalService;
