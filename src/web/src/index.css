@import "tailwindcss";
@import "@xterm/xterm/css/xterm.css";

@font-face {
  font-family: "HomieFiraCodeNerd";
  src: url("/fonts/FiraCodeNerdFont-Regular.ttf") format("truetype");
  font-weight: 400;
  font-style: normal;
  font-display: swap;
}

@font-face {
  font-family: "HomieCaskaydiaCoveNerd";
  src: url("/fonts/CaskaydiaCoveNerdFont-Regular.ttf") format("truetype");
  font-weight: 400;
  font-style: normal;
  font-display: swap;
}

@layer base {
  :root {
    /* Default Light Scheme (Aligned with Mobile) */
    --background: 216 33.3% 97.1%;
    --foreground: 211.8 36.2% 9.2%;
    --card: 0 0% 100%;
    --card-foreground: 211.8 36.2% 9.2%;
    --popover: 0 0% 100%;
    --popover-foreground: 211.8 36.2% 9.2%;
    --primary: 210.3 91.7% 47.5%;
    --primary-foreground: 0 0% 98%;
    --secondary: 220 25% 95.3%;
    --secondary-foreground: 211.8 36.2% 9.2%;
    --muted: 220 25% 95.3%;
    --muted-foreground: 213.1 13.7% 41.4%;
    --accent: 216 27.8% 92.9%;
    --accent-foreground: 211.8 36.2% 9.2%;
    --destructive: 350.4 56.1% 48.2%;
    --destructive-foreground: 0 0% 98%;
    --border: 211.8 36.2% 9.2% / 0.08;
    --input: 211.8 36.2% 9.2% / 0.08;
    --ring: 210.3 91.7% 47.5%;

    /* Extended semantic tokens (aligned with mobile) */
    --surface-0: 0 0% 100%;
    --surface-1: 220 25% 95.3%;
    --surface-2: 216 27.8% 92.9%;
    --surface-3: 216.9 23.6% 89.2%;
    --text-primary: 211.8 36.2% 9.2%;
    --text-secondary: 213.1 13.7% 41.4%;
    --text-tertiary: 214.3 15.6% 64.7%;
    --accent-dim: 210.3 91.7% 47.5% / 0.08;
    --success: 153.8 69.2% 33.1%;
    --success-dim: 153.8 69.2% 33.1% / 0.08;
    --warning: 34.7 89.2% 36.5%;
    --warning-dim: 34.7 89.2% 36.5% / 0.08;
    --danger: 350.4 56.1% 48.2%;
    --danger-dim: 350.4 56.1% 48.2% / 0.08;
    --border-active: 211.8 36.2% 9.2% / 0.16;
    --overlay: 0 0% 0% / 0.3;

    /* Terminal ANSI palette (default light) */
    --term-black: 240 10% 3.9%;
    --term-red: 0 84.2% 60.2%;
    --term-green: 142 71% 45%;
    --term-yellow: 45 93% 47%;
    --term-blue: 221 83% 53%;
    --term-magenta: 262 83% 58%;
    --term-cyan: 190 90% 40%;
    --term-white: 240 5% 35%;

    --term-bright-black: 240 4% 55%;
    --term-bright-red: 0 90% 65%;
    --term-bright-green: 142 76% 40%;
    --term-bright-yellow: 45 93% 40%;
    --term-bright-blue: 221 90% 60%;
    --term-bright-magenta: 262 88% 65%;
    --term-bright-cyan: 190 90% 35%;
    --term-bright-white: 240 5.9% 10%;

    --radius: 0.5rem;
    --radius-sm: 4px;
    --radius-md: 8px;
    --radius-lg: 12px;
    --radius-xl: 16px;
  }

  .dark {
    /* Default Dark Scheme (Aligned with Mobile) */
    --background: 216.9 37.1% 6.9%;
    --foreground: 212.7 31.4% 93.1%;
    --card: 210 32% 9.8%;
    --card-foreground: 212.7 31.4% 93.1%;
    --popover: 210 32% 9.8%;
    --popover-foreground: 212.7 31.4% 93.1%;
    --primary: 211 100% 65.5%;
    --primary-foreground: 216.9 37.1% 6.9%;
    --secondary: 211.4 30.4% 13.5%;
    --secondary-foreground: 212.7 31.4% 93.1%;
    --muted: 211.4 30.4% 13.5%;
    --muted-foreground: 212.7 14.3% 54.7%;
    --accent: 211.2 28.7% 17.1%;
    --accent-foreground: 212.7 31.4% 93.1%;
    --destructive: 350.1 81.7% 67.8%;
    --destructive-foreground: 216.9 37.1% 6.9%;
    --border: 0 0% 100% / 0.06;
    --input: 0 0% 100% / 0.06;
    --ring: 211 100% 65.5%;

    /* Extended semantic tokens (aligned with mobile) */
    --surface-0: 210 32% 9.8%;
    --surface-1: 211.4 30.4% 13.5%;
    --surface-2: 211.2 28.7% 17.1%;
    --surface-3: 212 27.8% 21.2%;
    --text-primary: 212.7 31.4% 93.1%;
    --text-secondary: 212.7 14.3% 54.7%;
    --text-tertiary: 214 16.9% 34.9%;
    --accent-dim: 211 100% 65.5% / 0.12;
    --success: 153.3 51.6% 51.4%;
    --success-dim: 153.3 51.6% 51.4% / 0.12;
    --warning: 37.9 84.5% 62.2%;
    --warning-dim: 37.9 84.5% 62.2% / 0.12;
    --danger: 350.1 81.7% 67.8%;
    --danger-dim: 350.1 81.7% 67.8% / 0.12;
    --border-active: 0 0% 100% / 0.12;
    --overlay: 0 0% 0% / 0.45;

    /* Terminal ANSI palette (default dark) */
    --term-black: 240 6% 8%;
    --term-red: 0 72% 56%;
    --term-green: 142 64% 45%;
    --term-yellow: 45 90% 55%;
    --term-blue: 217 91% 60%;
    --term-magenta: 262 88% 70%;
    --term-cyan: 190 90% 45%;
    --term-white: 0 0% 90%;

    --term-bright-black: 240 5% 40%;
    --term-bright-red: 0 85% 68%;
    --term-bright-green: 142 76% 60%;
    --term-bright-yellow: 45 93% 62%;
    --term-bright-blue: 217 91% 70%;
    --term-bright-magenta: 262 90% 78%;
    --term-bright-cyan: 190 92% 62%;
    --term-bright-white: 0 0% 98%;
  }

  /* Monokai */
  [data-color-scheme="monokai"] {
    --background: 60 30% 96.1%;
    --foreground: 70 8.1% 14.5%;
    --card: 60 30% 96.1%;
    --card-foreground: 70 8.1% 14.5%;
    --popover: 60 30% 96.1%;
    --popover-foreground: 70 8.1% 14.5%;

    --primary: 338.4 94.6% 56.3%;
    --primary-foreground: 60 30% 96.1%;

    --secondary: 60 18% 92%;
    --secondary-foreground: 70 8.1% 14.5%;
    --muted: 60 18% 92%;
    --muted-foreground: 49.6 10.9% 41.4%;
    --accent: 60 18% 92%;
    --accent-foreground: 70 8.1% 14.5%;

    --border: 60 10% 88%;
    --input: 60 10% 88%;

    /* Terminal ANSI palette */
    --term-black: 70 8.1% 14.5%;
    --term-red: 338.4 94.6% 56.3%;
    --term-green: 80 75.6% 53.3%;
    --term-yellow: 54.2 69.5% 67.8%;
    --term-blue: 189.6 81.1% 66.9%;
    --term-magenta: 261.4 100% 75.3%;
    --term-cyan: 171.5 70.9% 78.4%;
    --term-white: 240 5.9% 10%;

    --term-bright-black: 49.6 10.9% 41.4%;
    --term-bright-red: 338.4 94.6% 56.3%;
    --term-bright-green: 80 75.6% 53.3%;
    --term-bright-yellow: 54.2 69.5% 67.8%;
    --term-bright-blue: 189.6 81.1% 66.9%;
    --term-bright-magenta: 261.4 100% 75.3%;
    --term-bright-cyan: 171.5 70.9% 78.4%;
    --term-bright-white: 70 8.1% 14.5%;
  }

  [data-color-scheme="monokai"].dark {
    --background: 70 8.1% 14.5%;
    --foreground: 60 30% 96.1%;
    --card: 70 8.1% 14.5%;
    --card-foreground: 60 30% 96.1%;
    --popover: 70 8.1% 14.5%;
    --popover-foreground: 60 30% 96.1%;

    --primary: 338.4 94.6% 56.3%;
    --primary-foreground: 70 8.1% 14.5%;

    --secondary: 70 8% 20%;
    --secondary-foreground: 60 30% 96.1%;
    --muted: 70 8% 20%;
    --muted-foreground: 49.6 10.9% 41.4%;
    --accent: 70 8% 20%;
    --accent-foreground: 60 30% 96.1%;

    --border: 70 8% 24%;
    --input: 70 8% 24%;

    /* Terminal ANSI palette */
    --term-black: 70 8.1% 14.5%;
    --term-red: 338.4 94.6% 56.3%;
    --term-green: 80 75.6% 53.3%;
    --term-yellow: 54.2 69.5% 67.8%;
    --term-blue: 189.6 81.1% 66.9%;
    --term-magenta: 261.4 100% 75.3%;
    --term-cyan: 171.5 70.9% 78.4%;
    --term-white: 60 30% 96.1%;

    --term-bright-black: 49.6 10.9% 41.4%;
    --term-bright-red: 338.4 94.6% 56.3%;
    --term-bright-green: 80 75.6% 53.3%;
    --term-bright-yellow: 54.2 69.5% 67.8%;
    --term-bright-blue: 189.6 81.1% 66.9%;
    --term-bright-magenta: 261.4 100% 75.3%;
    --term-bright-cyan: 171.5 70.9% 78.4%;
    --term-bright-white: 60 30% 96.1%;
  }

  /* One Dark */
  [data-color-scheme="one-dark"] {
    --background: 0 0% 98.0%;
    --foreground: 228.0 8.2% 23.9%;
    --card: 0 0% 98.0%;
    --card-foreground: 228.0 8.2% 23.9%;
    --popover: 0 0% 98.0%;
    --popover-foreground: 228.0 8.2% 23.9%;

    --primary: 221.1 87.3% 60.0%;
    --primary-foreground: 0 0% 98.0%;

    --secondary: 50.8 33.3% 92.4%;
    --secondary-foreground: 228.0 8.2% 23.9%;
    --muted: 50.8 33.3% 92.4%;
    --muted-foreground: 231.4 3.8% 64.1%;
    --accent: 50.8 33.3% 92.4%;
    --accent-foreground: 228.0 8.2% 23.9%;

    --border: 240.0 2.0% 90.0%;
    --input: 240.0 2.0% 90.0%;

    /* Terminal ANSI palette (Atom One Light-ish) */
    --term-black: 228.0 8.2% 23.9%;
    --term-red: 5.0 74.2% 59.0%;
    --term-green: 119.3 34.2% 47.1%;
    --term-yellow: 40.9 99.0% 38.0%;
    --term-blue: 221.1 87.3% 60.0%;
    --term-magenta: 300.9 62.7% 40.0%;
    --term-cyan: 198.0 98.9% 37.1%;
    --term-white: 0 0% 20%;

    --term-bright-black: 227.1 6.3% 43.9%;
    --term-bright-red: 5.0 74.2% 59.0%;
    --term-bright-green: 119.3 34.2% 47.1%;
    --term-bright-yellow: 40.9 99.0% 38.0%;
    --term-bright-blue: 221.1 87.3% 60.0%;
    --term-bright-magenta: 300.9 62.7% 40.0%;
    --term-bright-cyan: 198.0 98.9% 37.1%;
    --term-bright-white: 228.0 8.2% 23.9%;
  }

  [data-color-scheme="one-dark"].dark {
    --background: 220.0 13.0% 18.0%;
    --foreground: 219.0 13.5% 71.0%;
    --card: 220.0 13.0% 18.0%;
    --card-foreground: 219.0 13.5% 71.0%;
    --popover: 220.0 13.0% 18.0%;
    --popover-foreground: 219.0 13.5% 71.0%;

    --primary: 207.0 81.6% 65.9%;
    --primary-foreground: 220.0 13.0% 18.0%;

    --secondary: 220.0 13.0% 22%;
    --secondary-foreground: 219.0 13.5% 71.0%;
    --muted: 220.0 13.0% 22%;
    --muted-foreground: 219.0 9.8% 40.0%;
    --accent: 220.0 13.0% 22%;
    --accent-foreground: 219.0 13.5% 71.0%;

    --border: 220.0 13.0% 24%;
    --input: 220.0 13.0% 24%;

    /* Terminal ANSI palette (One Dark) */
    --term-black: 220.0 13.0% 18.0%;
    --term-red: 355.3 65.2% 65.1%;
    --term-green: 94.9 38.1% 62.0%;
    --term-yellow: 39.1 67.1% 69.0%;
    --term-blue: 207.0 81.6% 65.9%;
    --term-magenta: 286.3 59.8% 66.9%;
    --term-cyan: 186.7 47.0% 54.9%;
    --term-white: 219.0 13.5% 71.0%;

    --term-bright-black: 219.0 9.8% 40.0%;
    --term-bright-red: 355.3 65.2% 65.1%;
    --term-bright-green: 94.9 38.1% 62.0%;
    --term-bright-yellow: 39.1 67.1% 69.0%;
    --term-bright-blue: 207.0 81.6% 65.9%;
    --term-bright-magenta: 286.3 59.8% 66.9%;
    --term-bright-cyan: 186.7 47.0% 54.9%;
    --term-bright-white: 219.0 13.5% 71.0%;
  }

  /* Flexoki */
  [data-color-scheme="flexoki"] {
    --background: 48.0 100% 97.1%;
    --foreground: 0.0 3.2% 6.1%;
    --card: 48.0 100% 97.1%;
    --card-foreground: 0.0 3.2% 6.1%;
    --popover: 48.0 100% 97.1%;
    --popover-foreground: 0.0 3.2% 6.1%;

    --primary: 212.2 67.7% 38.8%;
    --primary-foreground: 48.0 100% 97.1%;

    --secondary: 50.8 33.3% 92.4%;
    --secondary-foreground: 0.0 3.2% 6.1%;
    --muted: 50.8 33.3% 92.4%;
    --muted-foreground: 0.0 0.0% 40%;
    --accent: 50.8 33.3% 92.4%;
    --accent-foreground: 0.0 3.2% 6.1%;

    --border: 50.8 20% 88%;
    --input: 50.8 20% 88%;

    /* Terminal ANSI palette (Flexoki light) */
    --term-black: 0.0 3.2% 6.1%;
    --term-red: 3.1 62.0% 42.4%;
    --term-green: 73.3 84.2% 27.3%;
    --term-yellow: 45.3 98.9% 34.1%;
    --term-blue: 212.2 67.7% 38.8%;
    --term-magenta: 259.4 42.1% 43.3%;
    --term-cyan: 174.9 56.9% 32.7%;
    --term-white: 228.0 8.2% 23.9%;

    --term-bright-black: 0.0 0.0% 40%;
    --term-bright-red: 3.1 62.0% 42.4%;
    --term-bright-green: 73.3 84.2% 27.3%;
    --term-bright-yellow: 45.3 98.9% 34.1%;
    --term-bright-blue: 212.2 67.7% 38.8%;
    --term-bright-magenta: 259.4 42.1% 43.3%;
    --term-bright-cyan: 174.9 56.9% 32.7%;
    --term-bright-white: 0.0 3.2% 6.1%;
  }

  [data-color-scheme="flexoki"].dark {
    --background: 0.0 3.2% 6.1%;
    --foreground: 54.5 10.1% 78.6%;
    --card: 30.0 3.7% 10.6%;
    --card-foreground: 54.5 10.1% 78.6%;
    --popover: 30.0 3.7% 10.6%;
    --popover-foreground: 54.5 10.1% 78.6%;

    --primary: 207.8 48.6% 50.4%;
    --primary-foreground: 0.0 3.2% 6.1%;

    --secondary: 30.0 3.7% 10.6%;
    --secondary-foreground: 54.5 10.1% 78.6%;
    --muted: 30.0 3.7% 10.6%;
    --muted-foreground: 232.5 12.0% 39.2%;
    --accent: 30.0 3.7% 10.6%;
    --accent-foreground: 54.5 10.1% 78.6%;

    --border: 30.0 3.7% 14%;
    --input: 30.0 3.7% 14%;

    /* Terminal ANSI palette (Flexoki dark) */
    --term-black: 0.0 3.2% 6.1%;
    --term-red: 5.0 61.0% 53.7%;
    --term-green: 71.8 46.0% 41.4%;
    --term-yellow: 45.2 81.7% 44.9%;
    --term-blue: 207.8 48.6% 50.4%;
    --term-magenta: 250.5 40.2% 63.9%;
    --term-cyan: 174.6 48.9% 44.5%;
    --term-white: 54.5 10.1% 78.6%;

    --term-bright-black: 232.5 12.0% 39.2%;
    --term-bright-red: 5.0 61.0% 53.7%;
    --term-bright-green: 71.8 46.0% 41.4%;
    --term-bright-yellow: 45.2 81.7% 44.9%;
    --term-bright-blue: 207.8 48.6% 50.4%;
    --term-bright-magenta: 250.5 40.2% 63.9%;
    --term-bright-cyan: 174.6 48.9% 44.5%;
    --term-bright-white: 54.5 10.1% 78.6%;
  }

  /* Dracula */
  [data-color-scheme="dracula"] {
    --background: 60.0 30.0% 96.1%;
    --foreground: 231.4 14.9% 18.4%;
    --card: 60.0 30.0% 96.1%;
    --card-foreground: 231.4 14.9% 18.4%;
    --popover: 60.0 30.0% 96.1%;
    --popover-foreground: 231.4 14.9% 18.4%;

    --primary: 264.7 89.5% 77.6%;
    --primary-foreground: 231.4 14.9% 18.4%;

    --secondary: 220.0 23.1% 94.9%;
    --secondary-foreground: 231.4 14.9% 18.4%;
    --muted: 220.0 23.1% 94.9%;
    --muted-foreground: 225.5 26.6% 51.4%;
    --accent: 220.0 23.1% 94.9%;
    --accent-foreground: 231.4 14.9% 18.4%;

    --border: 220.0 18% 88%;
    --input: 220.0 18% 88%;

    /* Terminal ANSI palette (Dracula light-ish) */
    --term-black: 231.4 14.9% 18.4%;
    --term-red: 0.0 100% 66.7%;
    --term-green: 135.2 94.4% 64.7%;
    --term-yellow: 64.9 91.7% 76.5%;
    --term-blue: 225.5 26.6% 51.4%;
    --term-magenta: 325.5 100% 73.7%;
    --term-cyan: 190.5 96.6% 76.9%;
    --term-white: 231.4 14.9% 18.4%;

    --term-bright-black: 225.5 26.6% 51.4%;
    --term-bright-red: 0.0 100% 66.7%;
    --term-bright-green: 135.2 94.4% 64.7%;
    --term-bright-yellow: 64.9 91.7% 76.5%;
    --term-bright-blue: 225.5 26.6% 51.4%;
    --term-bright-magenta: 325.5 100% 73.7%;
    --term-bright-cyan: 190.5 96.6% 76.9%;
    --term-bright-white: 231.4 14.9% 18.4%;
  }

  [data-color-scheme="dracula"].dark {
    --background: 231.4 14.9% 18.4%;
    --foreground: 60.0 30.0% 96.1%;
    --card: 231.4 14.9% 18.4%;
    --card-foreground: 60.0 30.0% 96.1%;
    --popover: 231.4 14.9% 18.4%;
    --popover-foreground: 60.0 30.0% 96.1%;

    --primary: 264.7 89.5% 77.6%;
    --primary-foreground: 231.4 14.9% 18.4%;

    --secondary: 231.8 13.9% 31.0%;
    --secondary-foreground: 60.0 30.0% 96.1%;
    --muted: 231.8 13.9% 31.0%;
    --muted-foreground: 225.5 26.6% 51.4%;
    --accent: 231.8 13.9% 31.0%;
    --accent-foreground: 60.0 30.0% 96.1%;

    --border: 231.8 13.9% 34%;
    --input: 231.8 13.9% 34%;

    /* Terminal ANSI palette (Dracula) */
    --term-black: 231.4 14.9% 18.4%;
    --term-red: 0.0 100% 66.7%;
    --term-green: 135.2 94.4% 64.7%;
    --term-yellow: 64.9 91.7% 76.5%;
    --term-blue: 225.5 26.6% 51.4%;
    --term-magenta: 325.5 100% 73.7%;
    --term-cyan: 190.5 96.6% 76.9%;
    --term-white: 60.0 30.0% 96.1%;

    --term-bright-black: 231.8 13.9% 31.0%;
    --term-bright-red: 0.0 100% 66.7%;
    --term-bright-green: 135.2 94.4% 64.7%;
    --term-bright-yellow: 64.9 91.7% 76.5%;
    --term-bright-blue: 225.5 26.6% 51.4%;
    --term-bright-magenta: 325.5 100% 73.7%;
    --term-bright-cyan: 190.5 96.6% 76.9%;
    --term-bright-white: 60.0 30.0% 96.1%;
  }

  /* Catppuccin */
  [data-color-scheme="catppuccin"] {
    /* Latte */
    --background: 220.0 23.1% 94.9%;
    --foreground: 233.8 16.0% 35.5%;
    --card: 220.0 22.0% 92.0%;
    --card-foreground: 233.8 16.0% 35.5%;
    --popover: 220.0 23.1% 94.9%;
    --popover-foreground: 233.8 16.0% 35.5%;

    --primary: 219.9 91.5% 53.9%;
    --primary-foreground: 220.0 23.1% 94.9%;

    --secondary: 220.0 22.0% 92.0%;
    --secondary-foreground: 233.8 16.0% 35.5%;
    --muted: 220.0 22.0% 92.0%;
    --muted-foreground: 232.8 10.4% 47.3%;
    --accent: 220.0 22.0% 92.0%;
    --accent-foreground: 233.8 16.0% 35.5%;

    --border: 220.0 15% 88%;
    --input: 220.0 15% 88%;

    /* Terminal ANSI palette (Latte) */
    --term-black: 233.8 16.0% 35.5%;
    --term-red: 347.1 86.7% 44.1%;
    --term-green: 109.2 57.6% 39.8%;
    --term-yellow: 34.9 77.0% 49.4%;
    --term-blue: 219.9 91.5% 53.9%;
    --term-magenta: 266.0 85.0% 58.0%;
    --term-cyan: 183.2 73.9% 34.5%;
    --term-white: 233.8 16.0% 35.5%;

    --term-bright-black: 228.0 11.2% 65.1%;
    --term-bright-red: 347.1 86.7% 44.1%;
    --term-bright-green: 109.2 57.6% 39.8%;
    --term-bright-yellow: 34.9 77.0% 49.4%;
    --term-bright-blue: 219.9 91.5% 53.9%;
    --term-bright-magenta: 266.0 85.0% 58.0%;
    --term-bright-cyan: 183.2 73.9% 34.5%;
    --term-bright-white: 233.8 16.0% 35.5%;
  }

  [data-color-scheme="catppuccin"].dark {
    /* Mocha */
    --background: 240.0 21.1% 14.9%;
    --foreground: 226.2 63.9% 88.0%;
    --card: 236.8 16.2% 22.9%;
    --card-foreground: 226.2 63.9% 88.0%;
    --popover: 236.8 16.2% 22.9%;
    --popover-foreground: 226.2 63.9% 88.0%;

    --primary: 217.2 91.9% 75.9%;
    --primary-foreground: 240.0 21.1% 14.9%;

    --secondary: 236.8 16.2% 22.9%;
    --secondary-foreground: 226.2 63.9% 88.0%;
    --muted: 236.8 16.2% 22.9%;
    --muted-foreground: 232.5 12.0% 39.2%;
    --accent: 236.8 16.2% 22.9%;
    --accent-foreground: 226.2 63.9% 88.0%;

    --border: 236.8 16.2% 26%;
    --input: 236.8 16.2% 26%;

    /* Terminal ANSI palette (Mocha) */
    --term-black: 240.0 21.1% 14.9%;
    --term-red: 343.3 81.2% 74.9%;
    --term-green: 115.5 54.1% 76.1%;
    --term-yellow: 41.4 86.0% 83.1%;
    --term-blue: 217.2 91.9% 75.9%;
    --term-magenta: 267.4 83.5% 81.0%;
    --term-cyan: 170.0 57.4% 73.3%;
    --term-white: 226.2 63.9% 88.0%;

    --term-bright-black: 234.3 13.2% 31.2%;
    --term-bright-red: 343.3 81.2% 74.9%;
    --term-bright-green: 115.5 54.1% 76.1%;
    --term-bright-yellow: 41.4 86.0% 83.1%;
    --term-bright-blue: 217.2 91.9% 75.9%;
    --term-bright-magenta: 267.4 83.5% 81.0%;
    --term-bright-cyan: 170.0 57.4% 73.3%;
    --term-bright-white: 226.2 63.9% 88.0%;
  }
}

:root {
  --duration-micro: 80ms;
  --duration-fast: 140ms;
  --duration-standard: 200ms;
  --duration-emphasis: 300ms;
  --ease-enter: cubic-bezier(0, 0, 0.2, 1);
  --ease-exit: cubic-bezier(0.4, 0, 1, 1);
  --ease-move: cubic-bezier(0.4, 0, 0.2, 1);
  --ease-out-quart: cubic-bezier(0.165, 0.84, 0.44, 1);
}

.homie-app-shell {
  min-height: 100dvh;
  min-height: 100svh;
  padding-bottom: env(safe-area-inset-bottom, 0px);
}

@theme {
  --color-background: hsl(var(--background));
  --color-foreground: hsl(var(--foreground));
  --color-card: hsl(var(--card));
  --color-card-foreground: hsl(var(--card-foreground));
  --color-popover: hsl(var(--popover));
  --color-popover-foreground: hsl(var(--popover-foreground));
  --color-primary: hsl(var(--primary));
  --color-primary-foreground: hsl(var(--primary-foreground));
  --color-secondary: hsl(var(--secondary));
  --color-secondary-foreground: hsl(var(--secondary-foreground));
  --color-muted: hsl(var(--muted));
  --color-muted-foreground: hsl(var(--muted-foreground));
  --color-accent: hsl(var(--accent));
  --color-accent-foreground: hsl(var(--accent-foreground));
  --color-destructive: hsl(var(--destructive));
  --color-destructive-foreground: hsl(var(--destructive-foreground));
  --color-border: hsl(var(--border));
  --color-input: hsl(var(--input));
  --color-ring: hsl(var(--ring));
  --color-surface-0: hsl(var(--surface-0));
  --color-surface-1: hsl(var(--surface-1));
  --color-surface-2: hsl(var(--surface-2));
  --color-surface-3: hsl(var(--surface-3));
  --color-text-primary: hsl(var(--text-primary));
  --color-text-secondary: hsl(var(--text-secondary));
  --color-text-tertiary: hsl(var(--text-tertiary));
  --color-accent-dim: hsl(var(--accent-dim));
  --color-success: hsl(var(--success));
  --color-success-dim: hsl(var(--success-dim));
  --color-warning: hsl(var(--warning));
  --color-warning-dim: hsl(var(--warning-dim));
  --color-danger: hsl(var(--danger));
  --color-danger-dim: hsl(var(--danger-dim));
  --color-border-active: hsl(var(--border-active));
  --color-overlay: hsl(var(--overlay));
  --radius-radius: var(--radius);
}

/* Base styles to apply background and foreground */
@layer base {
  * {
    @apply border-border;
  }
  body {
    @apply bg-background text-foreground;
  }
}

@keyframes homie-popover-in {
  from {
    opacity: 0;
    transform: translateY(-4px) scale(0.98);
  }
  to {
    opacity: 1;
    transform: translateY(0) scale(1);
  }
}

.homie-popover {
  animation: homie-popover-in 180ms cubic-bezier(0.165, 0.84, 0.44, 1) both;
  z-index: 50;
}

@keyframes homie-fade-in {
  from {
    opacity: 0;
    transform: translateY(4px);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

.homie-fade-in {
  animation: homie-fade-in 160ms cubic-bezier(0.25, 1, 0.5, 1) both;
}

@keyframes homie-message-in {
  from {
    opacity: 0;
    transform: translateY(8px) scale(0.98);
  }
  to {
    opacity: 1;
    transform: translateY(0) scale(1);
  }
}

.homie-message-in {
  animation: homie-message-in var(--duration-standard, 200ms) var(--ease-enter, cubic-bezier(0, 0, 0.2, 1))
    both;
}

@keyframes homie-fab-in {
  from {
    opacity: 0;
    transform: translateY(8px) scale(0.9);
  }
  to {
    opacity: 1;
    transform: translateY(0) scale(1);
  }
}

.homie-fab-in {
  animation: homie-fab-in var(--duration-standard, 200ms) var(--ease-out-quart, cubic-bezier(0.165, 0.84, 0.44, 1))
    both;
  will-change: transform, opacity;
}

.homie-activity-collapse {
  display: grid;
  grid-template-rows: 0fr;
  transition: grid-template-rows var(--duration-emphasis, 300ms) var(--ease-move, cubic-bezier(0.4, 0, 0.2, 1));
}

.homie-activity-collapse[data-expanded="true"] {
  grid-template-rows: 1fr;
}

.homie-activity-collapse > div {
  overflow: hidden;
}

.chat-scroll {
  scrollbar-width: thin;
  scrollbar-color: hsl(var(--muted-foreground) / 0.15) transparent;
}

.chat-scroll::-webkit-scrollbar {
  width: 6px;
}

.chat-scroll::-webkit-scrollbar-track {
  background: transparent;
}

.chat-scroll::-webkit-scrollbar-thumb {
  background: hsl(var(--muted-foreground) / 0.15);
  border-radius: 3px;
}

.chat-scroll::-webkit-scrollbar-thumb:hover {
  background: hsl(var(--muted-foreground) / 0.25);
}

@keyframes homie-dot {
  0%,
  80%,
  100% {
    opacity: 0.35;
    transform: translateY(0);
  }
  40% {
    opacity: 1;
    transform: translateY(-2px);
  }
}

.homie-dots span {
  animation: homie-dot 1200ms ease-in-out infinite;
}

.homie-dots span:nth-child(2) {
  animation-delay: 160ms;
}

.homie-dots span:nth-child(3) {
  animation-delay: 320ms;
}

@keyframes homie-slide-in-right {
  from { opacity: 0; transform: translateX(16px); }
  to   { opacity: 1; transform: translateX(0); }
}

.homie-settings-enter {
  animation: homie-slide-in-right var(--duration-standard) var(--ease-enter) both;
}

@keyframes homie-slide-out-right {
  from { opacity: 1; transform: translateX(0); }
  to   { opacity: 0; transform: translateX(16px); }
}

.homie-settings-exit {
  animation: homie-slide-out-right var(--duration-fast) var(--ease-exit) both;
}

@media (prefers-reduced-motion: reduce) {
  :root {
    --duration-micro: 0ms;
    --duration-fast: 0ms;
    --duration-standard: 0ms;
    --duration-emphasis: 0ms;
  }
  .homie-popover {
    animation: none;
  }
  .homie-fade-in {
    animation: none;
  }
  .homie-message-in {
    animation: none;
  }
  .homie-fab-in {
    animation: none;
  }
  .homie-activity-collapse {
    transition: none;
  }
  .homie-dots span {
    animation: none;
  }
  .homie-settings-enter {
    animation: none;
  }
  .homie-settings-exit {
    animation: none;
  }
}
